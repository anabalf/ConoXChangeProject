<h1>Search skills</h1>

<form action="/search" method="get">
<div class="container-fluid">
    <div class="row ">
        <div class="col-md-10 mx-auto text-center">
            <div class="form">
                <select class="form-select" name="category">
                    <option value="all">All Categories</option>
                    <option value="Crafts" {{#ifEq query.priority 'Crafts'}}selected{{/ifEq}}>Crafts</option>
                    <option value="Cooking" {{#ifEq query.priority 'Cooking'}}selected{{/ifEq}}>Cooking</option>
                    <option value="Gardening and Horticulture" {{#ifEq query.priority 'Gardening and Horticulture'}}selected{{/ifEq}}>Gardening and Horticulture</option>
                    <option value="Everyday Life Skills" {{#ifEq query.priority 'Everyday Life Skills'}}selected{{/ifEq}}>Everyday Life Skills</option>
                    <option value="Music" {{#ifEq query.priority 'Music'}}selected{{/ifEq}}>Music</option>
                    <option value="Sports" {{#ifEq query.priority 'Sports'}}selected{{/ifEq}}>Sports</option>
                    <option value="Technology" {{#ifEq query.priority 'Technology'}}selected{{/ifEq}}>Technology</option>
                    <option value="Languages and Culture" {{#ifEq query.priority 'Languages and Culture'}}selected{{/ifEq}}>Languages and Culture</option>
                    <option value="Others" {{#ifEq query.priority 'Others'}}selected{{/ifEq}}>Others</option>
                </select>
                <input type="text" name="name" class="form-control form-input {{#if errors}}is-invalid{{/if}}" placeholder="Search anything..." value="{{query.title}}">
                <button class="btn btn-outline-secondary " type="submit"><i class="fa fa-search"></i></button>
                <span class="left-pan d-md-none"><i class="fa fa-microphone"></i></span>
            </div>
        </div>
    </div>
</div>
</form>

<div>
    <p>For you: {{currentUser.interests}}</p>
    {{#each skillsByInterests as |skill|}}
           <div class="card text-white bg-primary m-2 col-4" style="max-width: 18rem;">
                <a style=" color:white ; text-decoration: none" href="/profile/{{skill.owner.id}}">
                <div class="card-header d-inline">
                    <img id="img-card" src="https://i.pravatar.cc/150?u=iron-fake@pravatar.com" alt="Icon" class="rounded-circle d-inline">
                    {{skill.owner.username}}
                </div>
                </a>

                <div class="card-body">
                    <div class="row d-flex align-items-center">
                        <div class="col-8"> 
                            <h5>{{skill.category}}</h5>
                        </div>
                        <div class="col-4 text-right"> 
                            {{#if skill.category}}
                            <img src="{{categoryImage skill.category}}" alt="Img {{skill.category}}" style="width: 40px;" class="mx-1"> 
                            {{/if}}
                        </div>
                    </div>
                </div>

                <a class="text-decoration-none" href="/detail/{{skill.id}}">
                    <div class="additional-content">
                        <p>{{skill.name}}</p>
                        <p class="card-text">{{skill.description}}</p>
                    </div>
                </a>
            </div>
    {{/each}}     
</div>

<hr>

<div class="row justify-content-center">
    <p>All Skills</p>
    {{#each skillsByFinder as |skill|}}
    <div class="card text-white bg-primary m-2 col-4" style="max-width: 18rem;">
        <a style=" color:white ; text-decoration: none" href="/profile/{{skill.owner.id}}">
        <div class="card-header d-inline">
            <img id="img-card" src="https://i.pravatar.cc/150?u=iron-fake@pravatar.com" alt="Icon" class="rounded-circle d-inline">
            {{skill.owner.username}}
        </div>
        </a>

        <div class="card-body">
            <div class="row d-flex align-items-center">
                <div class="col-8"> 
                    <h5>{{skill.category}}</h5>
                </div>
                <div class="col-4 text-right"> 
                    {{#if skill.category}}
                    <img src="{{categoryImage skill.category}}" alt="Img {{skill.category}}" style="width: 40px;" class="mx-1"> 
                    {{/if}}
                </div>
            </div>

            <a class="text-decoration-none" href="/detail/{{skill.id}}">
            <div class="additional-content">
                <p>{{skill.name}}</p>
                <p class="card-text">{{skill.description}}</p>
            </div>
            </a>

        </div>
    </div>
    {{/each}}
</div>